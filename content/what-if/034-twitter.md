Title: Твиттер
Slug: twitter
Category: What If?
Date: 2013-02-27 22:43
Source: http://what-if.xkcd.com/34/
SourceNum: 34
SourceTitle: Twitter
Formulas: True

> Насколько много можно написать уникальных твитов на английском языке? Сколько времени потребуется населению нашей планеты, чтобы прочесть их всех вслух?
>
> — Эрик Х., Хопатконг[^1], Нью-Джерси

[^1]: Хопатконг — район штата Нью-Джерси.

&nbsp;

> Далеко-далеко, на северной земле Свеи[^2], стоит камень. Его высота — сто шестьдесят километров, и ширина — сто шестьдесят километров. Раз в тысячу лет маленькая птица прилетает к этому камню, чтобы заточить свой клюв. Когда камень таким образом будет источен, тогда пройдёт один день вечности.
>
> — [Гендрик Виллем Ван Лун](http://books.google.com/books?id=RskHAAAAIAAJ&pg=PA1#v=onepage&q&f=false)

[^2]: [Свеи](http://ru.wikipedia.org/wiki/Свеи) — район древней Швеции, а также собирательное название шведов.

Сообщения в Твиттере имеют ограничение в 140 символов. В английском алфавите 26 букв, если считать пробелы — 27. Если использовать такой алфавит, то максимально возможное количество записей составит $27^{140} \approx 10^{200}$.

Но Твиттер не ограничивает вас только этими символами. Вы можете поиграться со всеми символами в кодировке Юникод, благодаря чему у нас теперь будет более миллиона различных символов. Способ, которым Твиттер считает символы Юникода, [непрост](https://dev.twitter.com/docs/counting-characters), но количество возможных последовательностей может достигать $10^{800}$

Конечно, почти все из них будут бессмысленной кашей букв из дюжины разных языков. Даже если ограничиться 26-ю английскими буквами, строки будут в основном состоять из наборов букв типа “ptikobj” _(птайкобж — прим. пер.)_. Вопрос Эрика был о твитах, которые, вообще-то, несут связную информацию на английском. Как много _этих_ твитов может быть?

Это непростой вопрос. Первым вариантом будет использование только английских слов. Далее можно придти к использованию только грамматически верных предложений.

Это не сильно облегчит нашу задачу. Например, «Привет, я Миксизпитлик» — грамматически верное предложение, если ваше имя окажется таковым. (Если задуматься, оно настолько же грамматически верно, даже если вы лжёте.) Понятно, что не имеет смысла считать каждую строчку, начинающуюся со слов «Привет, я... » как отдельное предложение. Для обычного англоговорящего человека фраза «Привет, я Миксизпитлик», по существу, не отличается от «Привет, я Мксзккуклт», и они не должны учитываться. Но «Привет, я “xPoKeFaNx”» — определённо заметно отличается от первых двух, даже при том, что “xPoKeFaNx” — не станет английским словом даже при самом вольном полёте фантазии.

К счастью, существует подход получше.

Давайте представим язык, в котором есть только два правильных предложения, и каждый твит должен быть одним из этих двух предложений. Вот они:

* «Лошадь в пятом крыле».
* «Мой дом полон ловушек».

Твиттер будет выглядеть примерно так:

![](/uploads/034-twitter/twitter_screenshot_ru.png "я однажды знал маленькое интернет-сообщество, которое повторяло одинаковые шесть реплик беседы в одном и том же порядке больше десяти лет, в то время как сама беседа проходила в заголовках постов")

Сообщения достаточной длины, но в каждом не слишком много информации: все они говорят тебе, решил человек послать сообщение о ловушке или сообщение о лошади. Это или 1, или 0. Хотя в сообщениях много букв, для читателя, который знает характер языка, оно несёт только один _бит_ информации на предложение.

Этот пример подсказывает очень глубокую идею, которая гласит, что информация фундаментально привязана к неосведомлённости получателя о содержании сообщения и его возможности предсказать информацию заранее.

У Клода Шеннона, который практически единолично [изобрёл](http://cm.bell-labs.com/cm/ms/what/shannonday/shannon1948.pdf)[^3] современную теорию информации, был умный метод измерения содержания информации языка. Он показывал группам людей образцы типичных записей на английском языке, которые были обрезаны в случайном месте, затем просил их угадать, какая буква шла следующей.

[^3]: Статью в открытом доступе найти не удалось, но её можно найти в книге: «Шеннон К., Работы по теории информации и кибернетике», на странице 243.

![](/uploads/034-twitter/twitter_volcano_ru.png "вулкан угрожает наводнить город информацией")

Основываясь на соотношениях правильных ответов и [строгом математическом анализе](http://languagelog.ldc.upenn.edu/myl/Shannon1950.pdf)[^4], Шеннон определил, что содержание информации типичной записи на английском — примерно от 1.0 до 1.2 бит на букву. Это означает, что хороший алгоритм компрессии имел бы возможность сжать английский ASCII-текст, который содержит восемь бит на букву, примерно до 1/8 от первоначального размера. В самом деле, если вы используете хороший архиватор файлов на электронной книге в .txt-формате, то примерно этого результата вы и добьётесь.

[^4]: Страница 669.

Если часть текста содержит **_n_** бит информации, в определённом смысле это означает, что он сможет передавать $2^n$ различных сообщений. Здесь немного математического жонглирования (вовлекающего в себя, кроме всего прочего, длину сообщения и концепцию [расстояния единственности](http://ru.wikipedia.org/wiki/Расстояние_единственности)), и в итоге он предполагает, что на английском языке может быть порядка $2^{140\times1{,}1} \approx 2\times10^{46}$ различных твитов, а не $10^{200}$ или $10^{800}$.

Теперь подсчитаем, сколько времени потребуется миру, чтобы их все прочитать?

На чтение $2\times10^{46}$ твитов у человека уйдет около $10^{47}$ секунд. Это настолько ошеломляюще огромное количество твитов, что практически не имеет значения, будет читать их один человек или миллиард: даже такое количество людей не сможет прочитать сколько нибудь значимой части твитов за всю свою жизнь.

Вместо этого давайте вернёмся обратно к птице, заостряющей свой клюв на вершине горы. Предположим, что птица выцарапывает крошечный кусок камня с горы, когда посещает её раз в тысячу лет, и уносит с собой эти несколько дюжин частиц пыли, когда улетает. (Обычная птица, вероятнее всего, будет _откладывать_ большую часть материала на вершине горы, а не уносить с собой в клюве, но всё остальное в таком случае также ненормально, так что давайте просто смиримся с этим.)

Скажем, вы читаете твиты вслух в течение 16 часов в день, каждый день. И позади вас каждую тысячу лет прилетает птица и отскребает клювом несколько невидимых частичек пыли с вершины сташестидесятикилометровой горы.

Когда гора сравняется с землёй — это будет первый день вечности.

Гора появляется обратно, и цикл начинается заново — следующий день вечности. 365 дней вечности, каждый длиной $10^{32}$ лет, дадут год вечности.

![](/uploads/034-twitter/twitter_mountains.png "годы пролетают так быстро")

100 лет вечности, за которые птица успеет перемолоть 36&thinsp;500 гор, дадут век вечности.

Но и _этого_ века будет недостаточно. И даже тысячелетия.

Чтение всех твитов займёт у вас _десять тысяч_ лет вечности.

Этого времени достаточно, чтобы проследить развитие всей человеческой истории от изобретения письма до настоящего времени, при этом каждый день будет длиться столько, сколько понадобится птице, чтобы стереть с лица земли гору.

Сто сорок символов может показаться мало, но у нас _всегда_ будет о чём поговорить.

![](/uploads/034-twitter/twitter_bird.png "куда же ты улетаешь на остальное время, птица?")
